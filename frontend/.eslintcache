[{"/mnt/c/Users/Chris/Desktop/statify/frontend/src/index.js":"1","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reportWebVitals.js":"2","/mnt/c/Users/Chris/Desktop/statify/frontend/src/App.js":"3","/mnt/c/Users/Chris/Desktop/statify/frontend/src/util/spotify_api_util.js":"4","/mnt/c/Users/Chris/Desktop/statify/frontend/src/actions/spotify_actions.js":"5","/mnt/c/Users/Chris/Desktop/statify/frontend/src/store/store.js":"6","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/root_reducer.js":"7","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/spotify_reducer.js":"8","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/session_reducer.js":"9","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/dataSelector/dataSelector.jsx":"10","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph_container.js":"11","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph.jsx":"12","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/dataSelector/dataSelector_container.js":"13","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/splash/splash.jsx":"14"},{"size":864,"mtime":1608764948857,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1608064614237,"results":"17","hashOfConfig":"16"},{"size":2341,"mtime":1610045685754,"results":"18","hashOfConfig":"16"},{"size":120,"mtime":1608661783740,"results":"19","hashOfConfig":"16"},{"size":2880,"mtime":1610048300763,"results":"20","hashOfConfig":"16"},{"size":528,"mtime":1608764948918,"results":"21","hashOfConfig":"16"},{"size":224,"mtime":1608764948878,"results":"22","hashOfConfig":"16"},{"size":688,"mtime":1610046580033,"results":"23","hashOfConfig":"16"},{"size":409,"mtime":1609963391317,"results":"24","hashOfConfig":"16"},{"size":2773,"mtime":1610048168326,"results":"25","hashOfConfig":"16"},{"size":200,"mtime":1610046788132,"results":"26","hashOfConfig":"16"},{"size":5106,"mtime":1610045236128,"results":"27","hashOfConfig":"16"},{"size":721,"mtime":1610047895564,"results":"28","hashOfConfig":"16"},{"size":241,"mtime":1609963120564,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1fi5a70",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"32"},"/mnt/c/Users/Chris/Desktop/statify/frontend/src/index.js",[],["64","65"],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/reportWebVitals.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/App.js",["66"],"import React from 'react';\nimport spotifyApi from '../src/util/spotify_api_util';\nimport {setAccessToken, logout} from '../src/actions/spotify_actions'\nimport {connect} from 'react-redux';\nimport DataSelector from '../src/components/dataSelector/dataSelector_container'\nimport Graph from '../src/components/graph/graph_container';\nimport Axios from 'axios';\nimport Splash from './components/splash/splash';\n\nconst mSTP = state => {\n  return ({\n    loggedIn: state.session.isAuthenticated\n  })\n}\n\nconst mDTP = dispatch => {\n\n  return ({\n  setAccessToken: accessToken => dispatch(setAccessToken(accessToken)),\n  logout: () => dispatch(logout())\n})\n}\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    const params = this.getHashParams();\n    const token = params.access_token\n    console.log(params.refresh_token) // <-\n    if(token){\n      this.props.setAccessToken(token)\n    }\n\n\n    this.state = {\n      params: params,\n      loggedIn: token ? true : false,\n      nowPlaying: { name: 'Not Checked', albumArt: '' },\n      recentlyPlayed: [],\n      topTracks: [],\n      features: {}\n    }\n    \n    this.startCycle = this.startCycle.bind(this)\n    window.state = this.state;\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n    q = window.location.hash.substring(2);\n    \n    e = r.exec(q)\n    while ( e ) {\n       hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n    \n    console.log(hashParams)\n    return hashParams;\n  }\n\n\n  startCycle () {\n    const refresh = this.state.params.refresh_token;\n    const setAuthToken = this.props.setAccessToken;\n    setTimeout(() => {\n      Axios.get('http://localhost:8000/refresh_token', {\n        params: {\n          refresh_token: refresh\n        }\n      }).then(function ({data}) {\n        debugger\n        setAuthToken(data.access_token)\n      }).catch(err => console.log(err));\n      \n    }, 1000)\n      \n  }\n    \n\n  \n\n  \n  render() {\n    \n    if (!this.props.loggedIn) return <Splash/>\n\n\n\n    return (\n      <div className=\"App\">\n\n        <button onClick={() => this.props.logout()}> Logout</button>      \n        <button onClick={() => this.startCycle()}> Start Refresh Cycle</button>      \n        <DataSelector />\n        <Graph/>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(mSTP, mDTP)(App)\n\n","/mnt/c/Users/Chris/Desktop/statify/frontend/src/util/spotify_api_util.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/actions/spotify_actions.js",["67"],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/store/store.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/root_reducer.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/spotify_reducer.js",["68"],"import {RECEIVE_FEATURES, RECEIVE_PLAYLISTS, RECEIVE_TRACKS} from '../actions/spotify_actions'\r\n\r\nconst initialState = {\r\n    features: [],\r\n    tracks: {},\r\n    playlists: {}\r\n    };\r\n\r\nexport default (state = initialState, action) => {\r\n    let newState = Object.assign({}, state);\r\n    switch (action.type) {\r\n        case RECEIVE_FEATURES:\r\n            newState.features = action.features\r\n            return newState;\r\n        case RECEIVE_TRACKS:\r\n            newState.tracks = action.tracks\r\n            return newState;\r\n        case RECEIVE_PLAYLISTS:\r\n        newState.playlists = action.playlists\r\n        return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/session_reducer.js",["69"],"\r\nimport { LOGIN, LOGOUT } from '../actions/spotify_actions';\r\n\r\nconst initialState = {\r\nisAuthenticated: false,\r\naccessToken: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\nswitch (action.type) {\r\n  case LOGIN:\r\n    return {\r\n      isAuthenticated: true,\r\n      accessToken: action.accessToken\r\n    }\r\n  \r\n    case LOGOUT:\r\n      return initialState\r\n\r\n  default:\r\n    return state;\r\n}\r\n}","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/dataSelector/dataSelector.jsx",["70","71"],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph_container.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph.jsx",["72"],"import React from 'react';\r\nimport { Doughnut, Bar } from 'react-chartjs-2';\r\n \r\nexport default class Graph extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    \r\n\r\n    render ()  {\r\n        if (!this.props.data) return null;\r\n        let keys = [0,0,0,0,0,0,0,0,0,0,0,0];\r\n        const keyArr = ['Ab','A','Bb','B','C','Db','D','Eb','E','F','Gb','G'];\r\n        let modes = [0,0];\r\n        let tempos = {\r\n            40: 0,\r\n            50: 0,\r\n            60: 0,\r\n            70: 0,\r\n            80: 0,\r\n            90: 0,\r\n            100: 0,\r\n            110: 0,\r\n            120: 0,\r\n            130: 0,\r\n            140: 0,\r\n            150: 0,\r\n            160: 0,\r\n            170: 0,\r\n            180: 0,\r\n            190: 0,\r\n            200: 0,\r\n            210: 0,\r\n            220: 0,\r\n        };\r\n\r\n        //main iterator\r\n        this.props.data.forEach(x => {\r\n            if (!x) {\r\n            } else {\r\n                keys[x.key] += 1;\r\n                modes[x.mode] += 1;\r\n                let tempo = Math.floor(x.tempo);\r\n                tempo -= (tempo % 10)\r\n                tempos[tempo] += 1\r\n            }\r\n        });\r\n        const tempoData = {\r\n            labels: [40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200, 210, 220],\r\n            datasets: [{\r\n                data: Object.values(tempos),\r\n                backgroundColor: '#e6194B'\r\n            }]\r\n        }\r\n        const modeData = {\r\n            labels: ['Major', 'Minor'],\r\n            datasets: [{\r\n                data: modes,\r\n                backgroundColor: [\r\n                    '#e6194B',\r\n                    '#4363d8',\r\n                ]\r\n            }]\r\n        }\r\n        const barOptions = {\r\n            scales: {\r\n                yAxes: [{\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                        suggestedMax: 10\r\n                    }\r\n                }]\r\n            },\r\n            responsive: false,\r\n            \r\n            maintainAspectRatio: true,\r\n            legend: {\r\n                display: false   \r\n                }\r\n        };\r\n        const keyData = {\r\n            labels: keyArr,\r\n            datasets: [{\r\n                data: keys,\r\n                backgroundColor: [\r\n                    '#e6194B',\r\n                    '#f58231',\r\n                    '#ffe119',\r\n                    '#bfef45',\r\n                    '#3cb44b',\r\n                    '#469990',\r\n                    '#42d4f4',\r\n                    '#4363d8',\r\n                    '#000075',\r\n                    '#911eb4',\r\n                    '#f032e6',\r\n                    '#b20035',\r\n                  ],\r\n            }]\r\n        };\r\n\r\n        const findIndexOfGreatest = (array) => {\r\n            var greatest;\r\n            var indexOfGreatest;\r\n            for (var i = 0; i < array.length; i++) {\r\n              if (!greatest || array[i] > greatest) {\r\n                greatest = array[i];\r\n                indexOfGreatest = i;\r\n              }\r\n            }\r\n            return indexOfGreatest;\r\n          }\r\n\r\n        const favKeyIndex = findIndexOfGreatest(keys)\r\n        const favKey = keyArr[favKeyIndex]\r\n        let faveMode\r\n        if (modes[0] === modes[1]){\r\n            faveMode= 'You like Major and Minor Keys equally '\r\n        } else if (modes[0] < modes[1]) {\r\n            faveMode= 'You prefer Minor Keys'\r\n        } else {\r\n            faveMode= 'You prefer Major Keys'\r\n        }\r\n        const favTempo = Object.keys(tempos).reduce((a, b)=>{ return tempos[a] > tempos[b] ? a : b });\r\n        let speed;\r\n        if (favTempo < 71) {\r\n            speed = 'slow';\r\n        } else if (favTempo < 121) {\r\n            speed = 'walking pace';\r\n        } else if (favTempo < 180) {\r\n            speed = 'fast';\r\n        } else {\r\n            speed = 'very fast';\r\n        }\r\n\r\n\r\n\r\n        return (\r\n            <>\r\n        <div className='graphContainer'>\r\n            <div id=\"donut\">\r\n                <p>Your favorite songs are in the key of {favKey}</p>\r\n            <Doughnut\r\n                data={keyData}\r\n                height={400}\r\n                width={400}\r\n                options={{ maintainAspectRatio: true,\r\n                responsive: false,\r\n                \r\n                 legend: {\r\n                 display: false   \r\n                 }\r\n                }}\r\n                />\r\n            </div>\r\n            <div id='modeChart'>\r\n                {faveMode}\r\n                <Bar\r\n                height={400}\r\n                width={400}\r\n                    data={modeData}\r\n                    options={barOptions}\r\n                    />\r\n\r\n            </div>\r\n            <div id='tempoChart'>\r\n                <p>You prefer {speed} music ({favTempo} bpm)</p>\r\n                <Bar\r\n                height={400}\r\n                width={400}\r\n                    data={tempoData}\r\n                    options={barOptions}\r\n                    />\r\n\r\n            </div>\r\n            <br/>\r\n\r\n\r\n        </div>\r\n        </>\r\n        )\r\n    }\r\n}\r\n","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/dataSelector/dataSelector_container.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/splash/splash.jsx",["73"],"import React from 'react';\r\n\r\n\r\nexport default () => (\r\n    <>\r\n        <h1>Statify</h1>\r\n        <h2>View and compare stats about your musical taste</h2>\r\n        <a href='http://localhost:8000/login' > Login to Spotify </a>\r\n\r\n\r\n    </>\r\n)",{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":2,"column":8,"nodeType":"80","messageId":"81","endLine":2,"endColumn":18},{"ruleId":"78","severity":1,"message":"82","line":2,"column":8,"nodeType":"80","messageId":"81","endLine":2,"endColumn":21},{"ruleId":"83","severity":1,"message":"84","line":9,"column":1,"nodeType":"85","endLine":24,"endColumn":2},{"ruleId":"83","severity":1,"message":"86","line":9,"column":1,"nodeType":"85","endLine":23,"endColumn":2},{"ruleId":"78","severity":1,"message":"79","line":2,"column":8,"nodeType":"80","messageId":"81","endLine":2,"endColumn":18},{"ruleId":"78","severity":1,"message":"87","line":3,"column":8,"nodeType":"80","messageId":"81","endLine":3,"endColumn":13},{"ruleId":"88","severity":1,"message":"89","line":5,"column":5,"nodeType":"90","messageId":"91","endLine":7,"endColumn":6},{"ruleId":"83","severity":1,"message":"84","line":4,"column":1,"nodeType":"85","endLine":12,"endColumn":2},"no-native-reassign",["92"],"no-negated-in-lhs",["93"],"no-unused-vars","'spotifyApi' is defined but never used.","Identifier","unusedVar","'SpotifyWebApi' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","Unexpected default export of anonymous function","'Graph' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-global-assign","no-unsafe-negation"]