[{"/mnt/c/Users/Chris/Desktop/statify/frontend/src/index.js":"1","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reportWebVitals.js":"2","/mnt/c/Users/Chris/Desktop/statify/frontend/src/App.js":"3","/mnt/c/Users/Chris/Desktop/statify/frontend/src/util/spotify_api_util.js":"4","/mnt/c/Users/Chris/Desktop/statify/frontend/src/actions/spotify_actions.js":"5","/mnt/c/Users/Chris/Desktop/statify/frontend/src/store/store.js":"6","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/root_reducer.js":"7","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/spotify_reducer.js":"8","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/session_reducer.js":"9","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/dataSelector/dataSelector.jsx":"10","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph_container.js":"11","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph.jsx":"12"},{"size":864,"mtime":1608764948857,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1608064614237,"results":"15","hashOfConfig":"14"},{"size":5441,"mtime":1608783822557,"results":"16","hashOfConfig":"14"},{"size":120,"mtime":1608661783740,"results":"17","hashOfConfig":"14"},{"size":1961,"mtime":1608764948841,"results":"18","hashOfConfig":"14"},{"size":528,"mtime":1608764948918,"results":"19","hashOfConfig":"14"},{"size":224,"mtime":1608764948878,"results":"20","hashOfConfig":"14"},{"size":533,"mtime":1608783326704,"results":"21","hashOfConfig":"14"},{"size":352,"mtime":1608764948894,"results":"22","hashOfConfig":"14"},{"size":2637,"mtime":1608783577736,"results":"23","hashOfConfig":"14"},{"size":200,"mtime":1608850570762,"results":"24","hashOfConfig":"14"},{"size":1782,"mtime":1608851340231,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1fi5a70",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/mnt/c/Users/Chris/Desktop/statify/frontend/src/index.js",[],["55","56"],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/reportWebVitals.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/App.js",["57","58","59","60"],"import React from 'react';\nimport spotifyApi from '../src/util/spotify_api_util';\nimport {setAccessToken} from '../src/actions/spotify_actions'\nimport {connect} from 'react-redux';\nimport DataSelector from '../src/components/dataSelector/dataSelector'\nimport Graph from '../src/components/graph/graph';\n\nconst mSTP = state => {\n  return ({\n    state\n  })\n}\n\nconst mDTP = dispatch => {\n\n  return ({\n  setAccessToken: accessToken => dispatch(setAccessToken(accessToken))\n})\n}\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    const params = this.getHashParams();\n    const token = params.access_token\n    if(token){\n      this.props.setAccessToken(token)\n    }\n\n\n    this.state = {\n      loggedIn: token ? true : false,\n      nowPlaying: { name: 'Not Checked', albumArt: '' },\n      recentlyPlayed: [],\n      topTracks: [],\n      features: {}\n    }\n\n  }\n  getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n    q = window.location.hash.substring(2);\n    \n    e = r.exec(q)\n    while ( e ) {\n       hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n    \n    // console.log(hashParams)\n    return hashParams;\n  }\n\n  getNowPlaying(){\n    spotifyApi.getMyCurrentPlayingTrack()\n      .then((response) => {\n        \n        this.setState({\n          nowPlaying: {\n            name: response.item.name,\n            albumArt: response.item.album.images[0].url\n          }\n        })\n      })\n  }\n  getRecentlyPlayed(){\n    let unix_timestamp = 1484111023500\n    var date = new Date(unix_timestamp * 1000);\n    // Hours part from the timestamp\n    // Year\n    var months_arr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var year = date.getFullYear();\n\n    // Month\n    var month = months_arr[date.getMonth()];\n\n    // Day\n    var day = date.getDate();\n\n    var hours = date.getHours();\n    // Minutes part from the timestamp\n    var minutes = \"0\" + date.getMinutes();\n    // Seconds part from the timestamp\n    var seconds = \"0\" + date.getSeconds();\n\n    // Will display time in 10:30:23 format\n    var formattedTime = year + \",\" + month + \" \" + day + \" \" + hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\n    \n    // console.log(formattedTime);\n    spotifyApi.getMyRecentlyPlayedTracks({ limit: 50 })\n      .then((response) => {\n        let recent = []\n        \n        for(let i = 0; i < response.items.length; i ++){\n          let play = {}\n          play.albumArt = response.items[i].track.album.images[0].url\n          play.title = response.items[i].track.name\n          play.album = response.items[i].track.album.name\n          play.artist = response.items[i].track.artists[0].name\n          recent.push(play)\n        }\n        this.setState({\n          recentlyPlayed: recent\n        })\n      })\n  }\n  \n  getMyTopTracks () {\n    spotifyApi.getMyTopTracks({limit: 50}).then(res => {\n      let newTops = []\n      let trackIds = []\n      res.items.forEach(item => {\n        trackIds.push(item.id)\n        newTops.push(item.name)\n        \n      })\n      this.setState({topTracks: this.state.topTracks.concat(newTops)})\n      this.getFeatures('top', trackIds)\n\n    })\n      .catch(err =>{ \n        console.log(err)})\n    \n  }\n\n  getFeatures(key, trackIds) {\n    let ret = {}\n    spotifyApi.getAudioFeaturesForTracks(trackIds)\n      .then(res => {\n        let currentLength = this.state.topTracks.length - trackIds.length\n        res.audio_features.forEach((item, i) => {\n          ret[currentLength + i+1] = item\n        })\n        let newState = Object.assign({}, this.state.features[key], ret)\n        console.log(key)\n        this.setState({features: {[key]: newState}})\n        console.log(this.state.features)\n        console.log(this.state.topTracks)\n      }).catch(err => {\n        console.log(err)\n    })\n    \n  }\n\n\n\n  render() {\n    let recent\n    if(this.state.recentlyPlayed.length > 0){\n        let i = 0\n        recent = this.state.recentlyPlayed.map(ele => {\n          return (\n            <div key={i++} className=\" cf\">\n              <h3>{ele.album}</h3>\n              <img src={ele.albumArt} style={{ height: 150 }} />\n              <br/>\n              \"{ele.title}\"\n              <br/>\n              {ele.artist}\n            </div>\n          )\n        })\n    }\n    // console.log(this.state.recentlyPlayed)\n    // console.log(recent)\n    return (\n      <div className=\"App\">\n        <a href='http://localhost:8000/login' > Login to Spotify </a>\n        <DataSelector />\n        <div>\n          Now Playing: {this.state.nowPlaying.name}\n        </div>\n        <div>\n          <img src={this.state.nowPlaying.albumArt} style={{ height: 150 }} />\n        </div>\n        { this.state.loggedIn &&\n          <button onClick={() => this.getNowPlaying()}>\n            Check Now Playing\n          </button>\n        }\n        <div>\n          {/* vvv ? */}\n            {this.state.loggedIn &&\n            <>\n              <button onClick={() => this.getRecentlyPlayed()}>\n                Check Recent Plays\n          </button>\n              <button onClick={() => this.getMyTopTracks()}>\n                Check Top Tracks\n          </button>\n          </>\n            }\n          <div className=\"center cf\">\n            <h2> Recently Played </h2>\n            \n          {recent}\n          </div>\n        </div>\n        \n        \n      </div>\n    );\n  }\n}\n\n\nexport default connect(mSTP, mDTP)(App)\n\n","/mnt/c/Users/Chris/Desktop/statify/frontend/src/util/spotify_api_util.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/actions/spotify_actions.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/store/store.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/root_reducer.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/spotify_reducer.js",["61","62"],"import {RECEIVE_FEATURES, RECEIVE_TRACKS} from '../actions/spotify_actions'\r\n\r\nconst initialState = {\r\n    features: [],\r\n    tracks: {}\r\n    };\r\n\r\nexport default (state = {}, action) => {\r\n    let newState = Object.assign({}, state);\r\n    switch (action.type) {\r\n        case RECEIVE_FEATURES:\r\n            newState.features = action.features\r\n            return newState;\r\n        case RECEIVE_TRACKS:\r\n            newState.tracks = action.tracks\r\n            return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}","/mnt/c/Users/Chris/Desktop/statify/frontend/src/reducers/session_reducer.js",["63"],"\r\nimport { LOGIN } from '../actions/spotify_actions';\r\n\r\nconst initialState = {\r\nisAuthenticated: false,\r\naccessToken: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\nswitch (action.type) {\r\n  case LOGIN:\r\n    return {\r\n      isAuthenticated: true,\r\n      accessToken: action.accessToken\r\n    }\r\n\r\n  default:\r\n    return state;\r\n}\r\n}","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/dataSelector/dataSelector.jsx",["64"],"import React from 'react';\r\nimport spotifyApi from '../../util/spotify_api_util'\r\nimport {requestTopTracks, requestMostRecent, requestMySaved} from '../../actions/spotify_actions'\r\nimport {connect} from 'react-redux';\r\nimport Graph from '../graph/graph_container';\r\n\r\n\r\nconst mDTP = dispatch => ({\r\n    requestTopTracks: data => dispatch(requestTopTracks(data)),\r\n    requestMostRecent: data => dispatch(requestMostRecent(data)),\r\n    requestMySaved: data => dispatch(requestMySaved(data)),\r\n\r\n});\r\n\r\n\r\nclass DataSelector extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            data: 'recent',\r\n            time: 'medium_term'\r\n        };\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    dataChange (e) {\r\n        this.setState({data: e.target.value})\r\n    }\r\n    timeChange (e) {\r\n        this.setState({time: e.target.value})\r\n    }\r\n\r\n    getData () {\r\n        switch (this.state.data) {\r\n            case 'recent':\r\n                console.log('looking for recent data')\r\n                this.props.requestMostRecent(this.state.time)\r\n                \r\n                break;\r\n            case 'top':\r\n                console.log('looking for top data')\r\n                this.props.requestTopTracks(this.state.time)\r\n                break;\r\n                case 'liked':\r\n                    console.log('looking for liked data')\r\n                    this.props.requestMySaved(this.state.time)\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    render () {\r\n        this.getData()\r\n        return (\r\n            <div className='data-selector'> \r\n                <p>Based on your</p>\r\n                <select onChange={this.dataChange.bind(this)} value={this.state.data}>\r\n                    <option value=\"top\">Top Tracks</option>\r\n                    <option value=\"recent\">Most Recent Tracks</option>\r\n                    <option value=\"liked\">Liked Tracks</option>\r\n                </select>\r\n\r\n                {this.state.data === 'top' ? (\r\n                    <>\r\n                    <p>based on the past </p>\r\n                    <select onChange={this.timeChange.bind(this)} value={this.state.time}>\r\n                    <option value=\"short_term\">4 weeks</option>\r\n                    <option value=\"medium_term\">6 months</option>\r\n                    <option value=\"long_term\">All time</option>\r\n                    </select>\r\n                    </>\r\n                ) : null}\r\n                <Graph />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, mDTP)(DataSelector)","/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph_container.js",[],"/mnt/c/Users/Chris/Desktop/statify/frontend/src/components/graph/graph.jsx",["65","66","67","68"],{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":6,"column":8,"nodeType":"75","messageId":"76","endLine":6,"endColumn":13},{"ruleId":"73","severity":1,"message":"77","line":90,"column":9,"nodeType":"75","messageId":"76","endLine":90,"endColumn":22},{"ruleId":"78","severity":1,"message":"79","line":158,"column":15,"nodeType":"80","endLine":158,"endColumn":65},{"ruleId":"78","severity":1,"message":"79","line":177,"column":11,"nodeType":"80","endLine":177,"endColumn":79},{"ruleId":"73","severity":1,"message":"81","line":3,"column":7,"nodeType":"75","messageId":"76","endLine":3,"endColumn":19},{"ruleId":"82","severity":1,"message":"83","line":8,"column":1,"nodeType":"84","endLine":20,"endColumn":2},{"ruleId":"82","severity":1,"message":"85","line":9,"column":1,"nodeType":"84","endLine":20,"endColumn":2},{"ruleId":"73","severity":1,"message":"86","line":2,"column":8,"nodeType":"75","messageId":"76","endLine":2,"endColumn":18},{"ruleId":"87","severity":1,"message":"88","line":7,"column":5,"nodeType":"89","messageId":"90","endLine":9,"endColumn":6},{"ruleId":"91","severity":1,"message":"92","line":24,"column":13,"nodeType":"75","messageId":"93","endLine":24,"endColumn":20},{"ruleId":"94","severity":1,"message":"95","line":24,"column":21,"nodeType":"96","messageId":"97","endLine":24,"endColumn":23},{"ruleId":"91","severity":1,"message":"92","line":26,"column":13,"nodeType":"75","messageId":"93","endLine":26,"endColumn":20},"no-native-reassign",["98"],"no-negated-in-lhs",["99"],"no-unused-vars","'Graph' is defined but never used.","Identifier","unusedVar","'formattedTime' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'initialState' is assigned a value but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","Unexpected default export of anonymous function","'spotifyApi' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-use-before-define","'myChart' was used before it was defined.","usedBeforeDefined","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]